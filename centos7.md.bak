### Reference documentation
[Aliyun OPSX mirros](https://opsx.alibaba.com/mirror)  
[Configuring Kernel Parameters](https://codingbee.net/rhce/kernel-kernel-parameters-aka-system-settings)
### Install vm-tools on CentOS 7 minimal
  # yum -y install perl net-tools   
  # mount /dev/cdrom /mnt/  
  # cp /mnt/VMwareTools....tar.gz /tmp  
  # cd /tmp  
  # tar -zxvf VMwareTools....tar.gz  
  # cd vmware-tools-distrib  
  # ./vmware-install.pl  
  # systemctl status vmware-tools  
  # /usr/bin/vmware-config-tools.pl  
  **Note**:Don't pass in the -defaults argument, select no when you are prompted "Do you want to enable Guest Authentication (vgauth)? 
### Configure system proxy
\# vi /etc/profile
```
http_proxy=http://username:password@yourproxy:8080/
ftp_proxy=http://username:password@yourproxy:8080/
no_proxy="127.0.0.1,192.168.1.1"
export http_proxy
export ftp_proxy
export no_proxy
```
\# source /etc/profile
### Set yum repository to aliyun mirror
**CentOS 7**  
\# curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo  
**EPEL 7**  
\# wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
### Disable selinux
\# vi /etc/selinux/config
```
SELINUX=disabled
```
\# systemctl reboot
### Bash command auto completion
\# yum install bash-completion -y
### Disable ipv6
 # vi /etc/sysctl.d/01-ipv6.disable.conf
```
net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
```
 # sysctl --system
### Synchronizing time with NTP server
\# vi /etc/chrony.conf
```
server 172.17.105.109 iburst
```
\# systemctl restart chronyd
### Examples of selinux command
**Showing selinux context**  
\# ls -Z file  
**Change selinux context**  
\# chcon -t var_log_t catalina.out  
**Restore selinux context**  
\# restorecon -v catalina.out  
### Change default SSH port
\# vi /etc/ssh/sshd_config
```
Port 22
```
**Note**:If you want to change the port on a SELinux system,you have to tell SELinux about this change.  
\# semanage port -a -t ssh_port_t -p tcp #PORTNUMBER
### Change apache server port
\# vi /etc/httpd/conf/httpd.conf
```
Listen 80
```
**Note**:If you want to change the port on a SELinux system,you have to tell SELinux about this change.  
*Find out default port with selinux supporting*  
\# semanage port -l | grep -w http_port_t  
http_port_t    tcp   12345, 80, 443, 488, 8008, 8009, 8443  
*Add a new port*  
\# semanage port -a -t http_port_t -p tcp #PORTNUMBER
### Examples of command firewall-cmd
\# firewall-cmd --zone=public --add-port=8080-8081/tcp --permanent  
\# firewall-cmd --zone=publice --add-rich-rule='rule family="ipv4" source address="172.25.0.10" accept'  
\# firewall-cmd --zone=public --add-service=ftp --permanent  
\# firewall-cmd --zone=public --add-rich-rule='rule family="ipv4" source address="172.17.105.0/24" service name="ssh" accept' --permanent  
\# firewall-cmd --zone=public --add-rich-rule='rule family="ipv4" source address="172.17.105.0/24" port port="80" protocol="tcp" accept' --permanent  
\# firewall-cmd --zone=public --add-rich-rule='rule family="ipv4" destination address="172.17.107.68" service name="ftp" accept' --permanent  

\# firewall-cmd --list-all  
\# firewall-cmd --zone=internal --list-all  
\# firewall-cmd --zone=external --list-all  
\# firewall-cmd --zone=dmz --list-all  
\# firewall-cmd --zone-work --list-all  

\# firewall-cmd --zone=work --add-interface=ens37 --permanent  
\# firewall-cmd --zone=work --remove-service=ssh --permanent
### Network Command
\# ip addr   
\# nmtui  

**Examples of command nmcli**  
\# nmcli con show  
\# nmcli dev show ens33  
\# nmcli con mod ens33 ipv4.dns "202.96.209.5 202.96.209.133"  
\# nmcli con up ens33  
**Commands about route configuration**  
\# ip neighbour  
\# ip route show | column -t  
\# ip route add 10.15.150.0/24 via 192.168.150.253 dev enp0s3  
\# ip route del 10.15.150.0/24  
\# echo "10.15.150.0/24 via 192.168.150.253 dev enp0s3" > /etc/sysconfig/network-scripts/route-enp0s3  
\# echo "10.25.250.0/24 via 192.168.150.253 dev enp0s3" >> /etc/sysconfig/network-scripts/route-enp0s3  
\# remove route 169.254.0.0/16  
If you want to use CentOS 6 network command,please install *net-tools* package.  
\# yum install net-tools -y  
**Examples of command ss**  
 # ss -nat  
 # ss -natp | column -t  
 # ss -not | column -t
### Install cockpit
\# yum -y install cockpit  
\# firewall-cmd --zone=public --add-service=cockpit --permanent  
\# systemctl enable cockpit.socket  
https://172.17.105.81:9090
### Install webmin
```
echo "[Webmin]
name=Webmin Distribution Neutral
baseurl=http://download.webmin.com/download/yum
enabled=1
gpgcheck=1
gpgkey=http://www.webmin.com/jcameron-key.asc" >/etc/yum.repos.d/webmin.repo
```
 # yum install webmin -y  
 # firewall-cmd --zone=public --add-port=10000/tcp --permanent  
 https://172.17.105.81:10000

